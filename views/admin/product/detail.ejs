<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="description" content="Hỏi Dân IT - Dự án laptopshop" />
  <meta name="author" content="Hỏi Dân IT" />
  <title>Product Detail - Hỏi Dân IT</title>

  <link href="/admin/css/styles.css" rel="stylesheet" />
  <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
</head>

<body class="sb-nav-fixed">
  <%- include('../layout/header'); -%>

    <div id="layoutSidenav">
      <%- include('../layout/sidenav'); -%>

        <div id="layoutSidenav_content">
          <main class="container-fluid px-4">

            <% if (errors && errors.length > 0) { %>
              <% errors.forEach( function (error) { %>
                <div class="alert alert-danger mb-3">
                  <%= error %>
                </div>
              <% }) %>
              <a href="/admin/product" class="btn btn-secondary">Back to Products</a>
            <% } else if (product) { %>

              <h3 class="text-center my-4">Product Details</h3>

              <div class="container">
                <div class="row">
                  <div class="col-md-4 text-center">
                    <% if (product.image) { %>
                      <img src="/images/product/<%= product.image %>" alt="<%= product.name %>"
                           style="max-width: 100%; max-height: 400px;" />
                    <% } else { %>
                      <div class="alert alert-info">No image available</div>
                    <% } %>
                  </div>

                  <div class="col-md-8">
                    <table class="table table-bordered">
                      <tr>
                        <th>ID</th>
                        <td><%= product.id %></td>
                      </tr>
                      <tr>
                        <th>Name</th>
                        <td><%= product.name %></td>
                      </tr>
                      <tr>
                        <th>Price</th>
                        <td><%= product.price.toLocaleString('vi-VN') %> đ</td>
                      </tr>
                      <tr>
                        <th>Quantity</th>
                        <td><%= product.quantity %></td>
                      </tr>
                      <tr>
                        <th>Sold</th>
                        <td><%= product.sold %></td>
                      </tr>
                      <tr>
                        <th>Factory</th>
                        <td><%= product.factory %></td>
                      </tr>
                      <tr>
                        <th>Target</th>
                        <td><%= product.target %></td>
                      </tr>
                      <tr>
                        <th>Short Description</th>
                        <td><%= product.shortDesc %></td>
                      </tr>
                      <tr>
                        <th>Detailed Description</th>
                        <td><%= product.detailDesc %></td>
                      </tr>
                    </table>

                    <div class="text-center mt-4">
                      <a href="/admin/edit-product/<%= product.id %>" class="btn btn-warning">
                        Edit
                      </a>
                      <form method="post" action="/admin/delete-product/<%= product.id %>" style="display: inline;">
                        <button type="submit" class="btn btn-danger"
                                onclick="return confirm('Are you sure you want to delete this product?')">
                          Delete
                        </button>
                      </form>
                      <a href="/admin/product" class="btn btn-secondary">
                        Back
                      </a>
                    </div>
                  </div>
                </div>
              </div>

            <% } %>

          </main>

          <%- include('../layout/footer'); -%>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      crossorigin="anonymous"></script>
    <script src="/admin/js/scripts.js"></script>
</body>

</html>
